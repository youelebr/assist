# assist

**Introduction**

The purpose of ASSIST (Automatic Source-to-Source assISTant) is to provide a semi automatic tool to perform source-to-source transformations to optimize performances. ASSIST is based on the Rose Compiler Framework Project and uses its API to read and modify the Abstract Syntax Tree (AST) generated by Roseâ€™s compiler frontends. Source of Rose can be download on this github; it is based on an older version but with a lot of bug fix. Source of Rose can also be download on their website http://rosecompiler.org/

ASSIST is currently consider as a semi automatic tool because it requires the intervention of the user. He has multiple ways to guide ASSIST: directive can be added in the source code to guide the transformations on specific part of the code; ASSIST can also be directly feed with results from MAQAO modules such as Oneview, CQA, or VPROF.

ASSIST allows to easily performing complex modifications in order to carry out:
* Performance optimization
* General program transformation
* Instrumentation
* Perform optimizations using MAQAO analyses

**Compilation**

ASSIST is part of the MAQAO tool suite. Maqao can be download here: https://git.maqao.org/MAQAO/MAQAO 
The ASSIST directory must be in MAQAO/src/plugins/ and named s2s, then you must follow MAQAO compilation steps.

**ASSIST use**

A pdf tutorial is provide with ASSIST.

**ASSIST command**

There are several ways to perform source-to-source transformations using ASSIST.

To trigger transformations using specific directives previsouly inserted in a specific source file:
*maqao s2s -option="apply-directives" -src=toto.c*

To use the Oneview report generated for ASSIST and trigger transformations using specific directives:
*maqao s2s -oneview=assist.lua -option="apply-directives"*

More options are describe in the help of the module.
*maqao s2s -help*

**ASSIST Directives**

All available directives are list and detailed in the pdf user document.


**Issues & limitations**

Our approach involved several elements during the process and we saw in previous chapters
in what way each element is an asset to obtain performance gain. However, despite their
strength, each element has flaws and can be a possible source of error.
Most of our limitations come from Rose's Limitations (https://en.wikibooks.org/wiki/ROSE_Compiler_Framework/ROSE_tools#Limitations).
Some language keywords are not handle, only Fortran from 77 to 03 and C/C++ until 03 are well managed.
Bugs
When *#if, #else, #endif, etc* directives are used, the ROSE backend can move the directive below the statement instead of above.

Transformations based on directives are compiler dependent. Even if other compiler will ignore the directives, most of directives are only available for one compiler (i.e. loop count with ICC).
